import{_ as s,a as t,o as i,ai as a}from"./chunks/framework.BbOtTPsL.js";const u=JSON.parse(`{"title":"Download Customer Invoice PDF","description":"","frontmatter":{"outline":false,"examples":[{"id":"download-customer-invoice-pdf","title":"Download Invoice PDF","description":"Download an invoice as a PDF file.","request":"GET /api/shop/customer-invoices/1/pdf\\nX-STOREFRONT-KEY: pk_storefront_PvlE42nWGsKRVIf8bDlJngTPAdWAZbIy\\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\\n","response":"Binary PDF file\\nContent-Type: application/pdf\\nContent-Disposition: attachment; filename=\\"invoice-1.pdf\\"\\n","commonErrors":[{"error":"404 Not Found","cause":"Invoice with specified ID does not exist or does not belong to the customer","solution":"Verify the invoice ID and ensure it belongs to the authenticated customer's orders"},{"error":"401 Unauthorized","cause":"Missing or invalid Bearer token","solution":"Login and provide a valid customer authentication token"}]}]},"headers":[],"relativePath":"api/rest-api/shop/customer-invoices/download-customer-invoice-pdf.md","filePath":"api/rest-api/shop/customer-invoices/download-customer-invoice-pdf.md","lastUpdated":1771606128000}`),o={name:"api/rest-api/shop/customer-invoices/download-customer-invoice-pdf.md"};function n(r,e,l,d,h,p){return i(),t("div",null,e[0]||(e[0]=[a(`<h1 id="download-customer-invoice-pdf" tabindex="-1">Download Customer Invoice PDF <a class="header-anchor" href="#download-customer-invoice-pdf" aria-label="Permalink to &quot;Download Customer Invoice PDF&quot;">​</a></h1><p>Download an invoice as a PDF file. The response is a binary PDF stream containing the full invoice document.</p><h2 id="endpoint" tabindex="-1">Endpoint <a class="header-anchor" href="#endpoint" aria-label="Permalink to &quot;Endpoint&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /api/shop/customer-invoices/{id}/pdf</span></span></code></pre></div><h2 id="request-headers" tabindex="-1">Request Headers <a class="header-anchor" href="#request-headers" aria-label="Permalink to &quot;Request Headers&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Header</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>X-STOREFRONT-KEY</code></td><td>Yes</td><td>Your storefront API key</td></tr><tr><td><code>Authorization</code></td><td>Yes</td><td>Bearer token (customer login required)</td></tr></tbody></table><h2 id="path-parameters" tabindex="-1">Path Parameters <a class="header-anchor" href="#path-parameters" aria-label="Permalink to &quot;Path Parameters&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>integer</td><td>Yes</td><td>Customer invoice ID</td></tr></tbody></table><h2 id="response-200-ok" tabindex="-1">Response (200 OK) <a class="header-anchor" href="#response-200-ok" aria-label="Permalink to &quot;Response (200 OK)&quot;">​</a></h2><p>The response is a binary PDF file with the following headers:</p><table tabindex="0"><thead><tr><th>Header</th><th>Value</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td><code>application/pdf</code></td></tr><tr><td><code>Content-Disposition</code></td><td><code>attachment; filename=&quot;invoice-{id}.pdf&quot;</code></td></tr></tbody></table><h3 id="pdf-contents" tabindex="-1">PDF Contents <a class="header-anchor" href="#pdf-contents" aria-label="Permalink to &quot;PDF Contents&quot;">​</a></h3><p>The PDF document includes:</p><ul><li>Store information and logo</li><li>Billing and shipping addresses</li><li>Invoice line items with SKU, quantity, price, and totals</li><li>Financial summary (subtotal, tax, shipping, discount, grand total)</li><li>Invoice number, order number, and date</li></ul><h3 id="curl-example" tabindex="-1">cURL Example <a class="header-anchor" href="#curl-example" aria-label="Permalink to &quot;cURL Example&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8000/api/shop/customer-invoices/1/pdf&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_your_key_here&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer YOUR_CUSTOMER_TOKEN&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> invoice-001.pdf</span></span></code></pre></div><h2 id="error-responses" tabindex="-1">Error Responses <a class="header-anchor" href="#error-responses" aria-label="Permalink to &quot;Error Responses&quot;">​</a></h2><p><strong>Not Found (404):</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer invoice with ID </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">999</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not found.&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Unauthenticated (401):</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer is not logged in.&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>Separate route:</strong> The <code>/pdf</code> endpoint is a separate route (not an API Platform operation).</li><li><strong>Rendering engine:</strong> Uses DomPDF for LTR locales and mPDF for RTL locales, supporting multilingual invoice rendering.</li><li><strong>Customer isolation:</strong> Customers can only download PDFs for invoices from their own orders.</li><li><strong>Binary response:</strong> The response body is a raw PDF binary stream, not JSON.</li></ul><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">​</a></h2><ul><li>Allow customers to download invoice PDFs for their records</li><li>Provide printable invoice documents</li><li>Support accounting and tax filing workflows</li></ul><h2 id="related-resources" tabindex="-1">Related Resources <a class="header-anchor" href="#related-resources" aria-label="Permalink to &quot;Related Resources&quot;">​</a></h2><ul><li><a href="/api/rest-api/shop/customer-invoices/get-customer-invoices.html">Get All Customer Invoices</a></li><li><a href="/api/rest-api/shop/customer-invoices/get-customer-invoice.html">Get Single Customer Invoice</a></li><li><a href="/api/rest-api/shop/customer-orders/get-customer-orders.html">Get Customer Orders</a></li></ul>`,27)]))}const k=s(o,[["render",n]]);export{u as __pageData,k as default};
