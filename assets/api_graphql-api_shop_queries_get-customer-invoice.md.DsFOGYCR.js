import{_ as e,a as i,o as a,ai as s}from"./chunks/framework.BbOtTPsL.js";const u=JSON.parse(`{"title":"Get Customer Invoice","description":"","frontmatter":{"outline":false,"examples":[{"id":"get-customer-invoice-basic","title":"Get Single Customer Invoice","description":"Retrieve details of a specific invoice by its IRI identifier.","query":"query GetCustomerInvoice {\\n  customerInvoice(id: \\"/api/shop/customer-invoices/1\\") {\\n    incrementId\\n    state\\n    totalQty\\n    grandTotal\\n    baseGrandTotal\\n    subTotal\\n    baseSubTotal\\n    shippingAmount\\n    baseShippingAmount\\n    taxAmount\\n    baseTaxAmount\\n    discountAmount\\n    baseDiscountAmount\\n    shippingTaxAmount\\n    subTotalInclTax\\n    shippingAmountInclTax\\n    baseCurrencyCode\\n    channelCurrencyCode\\n    orderCurrencyCode\\n    transactionId\\n    emailSent\\n    reminders\\n    createdAt\\n    updatedAt\\n    downloadUrl\\n    items {\\n      edges {\\n        node {\\n          id\\n          sku\\n          name\\n          qty\\n          price\\n          total\\n        }\\n      }\\n    }\\n  }\\n}\\n","variables":"{}\\n","response":"{\\n  \\"data\\": {\\n    \\"customerInvoice\\": {\\n      \\"incrementId\\": \\"INV-001\\",\\n      \\"state\\": \\"paid\\",\\n      \\"totalQty\\": 2,\\n      \\"grandTotal\\": 110.00,\\n      \\"baseGrandTotal\\": 110.00,\\n      \\"subTotal\\": 100.00,\\n      \\"baseSubTotal\\": 100.00,\\n      \\"shippingAmount\\": 5.00,\\n      \\"baseShippingAmount\\": 5.00,\\n      \\"taxAmount\\": 5.00,\\n      \\"baseTaxAmount\\": 5.00,\\n      \\"discountAmount\\": 0.00,\\n      \\"baseDiscountAmount\\": 0.00,\\n      \\"shippingTaxAmount\\": 0.00,\\n      \\"subTotalInclTax\\": 105.00,\\n      \\"shippingAmountInclTax\\": 5.00,\\n      \\"baseCurrencyCode\\": \\"USD\\",\\n      \\"channelCurrencyCode\\": \\"USD\\",\\n      \\"orderCurrencyCode\\": \\"USD\\",\\n      \\"transactionId\\": \\"TXN-12345\\",\\n      \\"emailSent\\": true,\\n      \\"reminders\\": 0,\\n      \\"createdAt\\": \\"2025-02-10T10:30:00+00:00\\",\\n      \\"updatedAt\\": \\"2025-02-10T10:30:00+00:00\\",\\n      \\"downloadUrl\\": \\"http://localhost:8000/api/shop/customer-invoices/1/pdf\\",\\n      \\"items\\": {\\n        \\"edges\\": [\\n          {\\n            \\"node\\": {\\n              \\"id\\": \\"/api/shop/invoice-items/1\\",\\n              \\"sku\\": \\"PROD-001\\",\\n              \\"name\\": \\"Sample Product\\",\\n              \\"qty\\": 2,\\n              \\"price\\": 50.00,\\n              \\"total\\": 100.00\\n            }\\n          }\\n        ]\\n      }\\n    }\\n  }\\n}\\n","commonErrors":[{"error":"UNAUTHENTICATED","cause":"Missing or invalid Bearer token","solution":"Login and provide a valid customer authentication token"},{"error":"NOT_FOUND","cause":"Invoice with specified ID does not exist or does not belong to the customer","solution":"Verify the invoice ID and ensure it belongs to the authenticated customer's orders"},{"error":"MISSING_ID","cause":"Invoice ID not provided","solution":"Provide a valid invoice IRI identifier"}]}]},"headers":[],"relativePath":"api/graphql-api/shop/queries/get-customer-invoice.md","filePath":"api/graphql-api/shop/queries/get-customer-invoice.md","lastUpdated":1771606128000}`),n={name:"api/graphql-api/shop/queries/get-customer-invoice.md"};function o(d,t,r,l,c,h){return a(),i("div",null,t[0]||(t[0]=[s(`<h1 id="get-customer-invoice" tabindex="-1">Get Customer Invoice <a class="header-anchor" href="#get-customer-invoice" aria-label="Permalink to &quot;Get Customer Invoice&quot;">​</a></h1><h2 id="about" tabindex="-1">About <a class="header-anchor" href="#about" aria-label="Permalink to &quot;About&quot;">​</a></h2><p>The <code>customerInvoice</code> query retrieves detailed information for a specific invoice by its IRI identifier. Customers can only access invoices from their own orders — requesting another customer&#39;s invoice returns a not found error, preventing enumeration attacks. Use this query to:</p><ul><li>Display detailed invoice information</li><li>Show invoice summary with line items and totals</li><li>Track payment state and transaction details</li><li>View tax, shipping, and discount breakdowns</li><li>Display financial details for a specific invoice</li></ul><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><p>This query requires customer authentication:</p><ul><li><strong>Authenticated customers</strong>: Provide a valid customer authentication token in the <code>Authorization</code> header. Obtain this token via the <a href="/api/graphql-api/shop/mutations/customer-login.html">Customer Login API</a>.</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Authorization: Bearer &lt;accessToken&gt;</span></span>
<span class="line"><span>X-STOREFRONT-KEY: &lt;storefrontKey&gt;</span></span></code></pre></div><h2 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Argument</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>ID!</code></td><td>✅ Yes</td><td>The IRI identifier of the customer invoice (e.g. <code>/api/shop/customer-invoices/1</code>).</td></tr></tbody></table><h2 id="possible-returns" tabindex="-1">Possible Returns <a class="header-anchor" href="#possible-returns" aria-label="Permalink to &quot;Possible Returns&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>_id</code></td><td><code>Int!</code></td><td>Numeric invoice ID.</td></tr><tr><td><code>incrementId</code></td><td><code>String!</code></td><td>Human-readable invoice number (e.g. <code>INV-001</code>).</td></tr><tr><td><code>state</code></td><td><code>String!</code></td><td>Invoice state: <code>pending</code>, <code>pending_payment</code>, <code>paid</code>, <code>overdue</code>, <code>refunded</code>.</td></tr><tr><td><code>totalQty</code></td><td><code>Int!</code></td><td>Total quantity of items in the invoice.</td></tr><tr><td><code>emailSent</code></td><td><code>Boolean</code></td><td>Whether the invoice email was sent.</td></tr><tr><td><code>grandTotal</code></td><td><code>Float!</code></td><td>Grand total.</td></tr><tr><td><code>baseGrandTotal</code></td><td><code>Float!</code></td><td>Base grand total.</td></tr><tr><td><code>subTotal</code></td><td><code>Float!</code></td><td>Sub total.</td></tr><tr><td><code>baseSubTotal</code></td><td><code>Float!</code></td><td>Base sub total.</td></tr><tr><td><code>shippingAmount</code></td><td><code>Float</code></td><td>Shipping amount.</td></tr><tr><td><code>baseShippingAmount</code></td><td><code>Float</code></td><td>Base shipping amount.</td></tr><tr><td><code>taxAmount</code></td><td><code>Float</code></td><td>Tax amount.</td></tr><tr><td><code>baseTaxAmount</code></td><td><code>Float</code></td><td>Base tax amount.</td></tr><tr><td><code>discountAmount</code></td><td><code>Float</code></td><td>Discount amount.</td></tr><tr><td><code>baseDiscountAmount</code></td><td><code>Float</code></td><td>Base discount amount.</td></tr><tr><td><code>shippingTaxAmount</code></td><td><code>Float</code></td><td>Shipping tax amount.</td></tr><tr><td><code>baseShippingTaxAmount</code></td><td><code>Float</code></td><td>Base shipping tax amount.</td></tr><tr><td><code>subTotalInclTax</code></td><td><code>Float</code></td><td>Sub total including tax.</td></tr><tr><td><code>baseSubTotalInclTax</code></td><td><code>Float</code></td><td>Base sub total including tax.</td></tr><tr><td><code>shippingAmountInclTax</code></td><td><code>Float</code></td><td>Shipping amount including tax.</td></tr><tr><td><code>baseShippingAmountInclTax</code></td><td><code>Float</code></td><td>Base shipping amount including tax.</td></tr><tr><td><code>baseCurrencyCode</code></td><td><code>String!</code></td><td>Base currency code (e.g. <code>USD</code>).</td></tr><tr><td><code>channelCurrencyCode</code></td><td><code>String</code></td><td>Channel currency code.</td></tr><tr><td><code>orderCurrencyCode</code></td><td><code>String!</code></td><td>Order currency code.</td></tr><tr><td><code>transactionId</code></td><td><code>String</code></td><td>Payment transaction ID.</td></tr><tr><td><code>reminders</code></td><td><code>Int</code></td><td>Number of reminders sent.</td></tr><tr><td><code>nextReminderAt</code></td><td><code>DateTime</code></td><td>Next reminder scheduled date.</td></tr><tr><td><code>createdAt</code></td><td><code>DateTime!</code></td><td>Invoice creation timestamp.</td></tr><tr><td><code>updatedAt</code></td><td><code>DateTime!</code></td><td>Invoice last update timestamp.</td></tr><tr><td><code>downloadUrl</code></td><td><code>String</code></td><td>URL to download the invoice as PDF.</td></tr></tbody></table><h2 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">​</a></h2><h3 id="invoice-not-found" tabindex="-1">Invoice Not Found <a class="header-anchor" href="#invoice-not-found" aria-label="Permalink to &quot;Invoice Not Found&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer invoice with ID </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">999</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not found.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;locations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;line&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;column&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;customerInvoice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="unauthenticated-request" tabindex="-1">Unauthenticated Request <a class="header-anchor" href="#unauthenticated-request" aria-label="Permalink to &quot;Unauthenticated Request&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer is not logged in.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;locations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;line&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;column&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;customerInvoice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">​</a></h2><ul><li>Display detailed invoice page in customer account</li><li>Show full financial breakdown of an invoice</li><li>Track payment state and transaction ID</li><li>View tax and shipping details</li><li>Check if invoice email was sent</li></ul><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>Customer isolation:</strong> Invoices are scoped through the order relationship. A customer can only access invoices from their own orders.</li><li><strong>Read-only:</strong> Only query operations are available. Invoices cannot be modified through this API.</li></ul><h2 id="related-resources" tabindex="-1">Related Resources <a class="header-anchor" href="#related-resources" aria-label="Permalink to &quot;Related Resources&quot;">​</a></h2><ul><li><a href="/api/graphql-api/shop/queries/get-customer-invoices.html">Get All Customer Invoices</a> — Query all customer invoices</li><li><a href="/api/graphql-api/shop/queries/get-customer-orders.html">Get Customer Orders</a> — Query customer orders</li><li><a href="/api/graphql-api/shop/queries/get-customer-profile.html">Get Customer Profile</a> — Query customer profile</li></ul>`,23)]))}const k=e(n,[["render",o]]);export{u as __pageData,k as default};
