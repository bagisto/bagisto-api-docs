import{_ as e,a as d,o,ai as a}from"./chunks/framework.BbOtTPsL.js";const u=JSON.parse('{"title":"Get Customer Downloadable Products","description":"","frontmatter":{"outline":false,"examples":[{"id":"get-customer-downloadable-products","title":"Get All Customer Downloadable Products","description":"Retrieve all downloadable product purchases for the authenticated customer.","request":"GET /api/shop/customer-downloadable-products\\nContent-Type: application/json\\nX-STOREFRONT-KEY: pk_storefront_PvlE42nWGsKRVIf8bDlJngTPAdWAZbIy\\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\\n","response":"[\\n  {\\n    \\"id\\": 1,\\n    \\"productName\\": \\"Laravel E-Book\\",\\n    \\"name\\": \\"PDF Download\\",\\n    \\"url\\": null,\\n    \\"file\\": \\"downloadable/laravel-ebook.pdf\\",\\n    \\"fileName\\": \\"laravel-ebook.pdf\\",\\n    \\"type\\": \\"file\\",\\n    \\"downloadBought\\": 5,\\n    \\"downloadUsed\\": 1,\\n    \\"downloadCanceled\\": 0,\\n    \\"status\\": \\"available\\",\\n    \\"remainingDownloads\\": 4,\\n    \\"customerId\\": 1,\\n    \\"orderId\\": 101,\\n    \\"orderItemId\\": 201,\\n    \\"order\\": {\\n      \\"id\\": 101,\\n      \\"incrementId\\": \\"101\\",\\n      \\"status\\": \\"completed\\"\\n    },\\n    \\"createdAt\\": \\"2025-06-15T10:30:00.000000Z\\",\\n    \\"updatedAt\\": \\"2025-06-15T10:30:00.000000Z\\"\\n  },\\n  {\\n    \\"id\\": 2,\\n    \\"productName\\": \\"Stock Photo Pack\\",\\n    \\"name\\": \\"High-Res Bundle\\",\\n    \\"url\\": \\"https://cdn.example.com/photo-pack.zip\\",\\n    \\"file\\": null,\\n    \\"fileName\\": \\"photo-pack.zip\\",\\n    \\"type\\": \\"url\\",\\n    \\"downloadBought\\": 3,\\n    \\"downloadUsed\\": 3,\\n    \\"downloadCanceled\\": 0,\\n    \\"status\\": \\"expired\\",\\n    \\"remainingDownloads\\": 0,\\n    \\"customerId\\": 1,\\n    \\"orderId\\": 102,\\n    \\"orderItemId\\": 202,\\n    \\"order\\": {\\n      \\"id\\": 102,\\n      \\"incrementId\\": \\"102\\",\\n      \\"status\\": \\"completed\\"\\n    },\\n    \\"createdAt\\": \\"2025-06-10T08:00:00.000000Z\\",\\n    \\"updatedAt\\": \\"2025-06-12T14:00:00.000000Z\\"\\n  }\\n]\\n","commonErrors":[{"error":"401 Unauthorized","cause":"Missing or invalid Bearer token","solution":"Login and provide a valid customer authentication token"},{"error":"403 Forbidden","cause":"Storefront key is missing or invalid","solution":"Provide a valid X-STOREFRONT-KEY header"}]}]},"headers":[],"relativePath":"api/rest-api/shop/customer-downloadable-products/get-customer-downloadable-products.md","filePath":"api/rest-api/shop/customer-downloadable-products/get-customer-downloadable-products.md","lastUpdated":1771606128000}'),n={name:"api/rest-api/shop/customer-downloadable-products/get-customer-downloadable-products.md"};function s(r,t,i,l,c,p){return o(),d("div",null,t[0]||(t[0]=[a(`<h1 id="get-customer-downloadable-products" tabindex="-1">Get Customer Downloadable Products <a class="header-anchor" href="#get-customer-downloadable-products" aria-label="Permalink to &quot;Get Customer Downloadable Products&quot;">​</a></h1><p>Retrieve all downloadable product purchases belonging to the authenticated customer. This is a <strong>read-only</strong> API — customers can view their purchased downloadable links, check download status, and see remaining downloads.</p><h2 id="endpoint" tabindex="-1">Endpoint <a class="header-anchor" href="#endpoint" aria-label="Permalink to &quot;Endpoint&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET /api/shop/customer-downloadable-products</span></span></code></pre></div><h2 id="request-headers" tabindex="-1">Request Headers <a class="header-anchor" href="#request-headers" aria-label="Permalink to &quot;Request Headers&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Header</th><th>Value</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td><code>application/json</code></td><td>Yes</td><td>Request content type</td></tr><tr><td><code>X-STOREFRONT-KEY</code></td><td><code>pk_storefront_xxx</code></td><td>Yes</td><td>Storefront API key</td></tr><tr><td><code>Authorization</code></td><td><code>Bearer {token}</code></td><td>Yes</td><td>Customer authentication token</td></tr></tbody></table><h2 id="response-fields" tabindex="-1">Response Fields <a class="header-anchor" href="#response-fields" aria-label="Permalink to &quot;Response Fields&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>Integer</td><td>Downloadable link purchase ID</td></tr><tr><td><code>productName</code></td><td>String</td><td>Name of the purchased product</td></tr><tr><td><code>name</code></td><td>String</td><td>Name of the downloadable link</td></tr><tr><td><code>url</code></td><td>String|null</td><td>External download URL (for URL-type links)</td></tr><tr><td><code>file</code></td><td>String|null</td><td>File path (for file-type links)</td></tr><tr><td><code>fileName</code></td><td>String</td><td>Display name of the file</td></tr><tr><td><code>type</code></td><td>String</td><td>Link type: <code>file</code> or <code>url</code></td></tr><tr><td><code>downloadBought</code></td><td>Integer</td><td>Total number of allowed downloads</td></tr><tr><td><code>downloadUsed</code></td><td>Integer</td><td>Number of times downloaded</td></tr><tr><td><code>downloadCanceled</code></td><td>Integer</td><td>Number of canceled downloads</td></tr><tr><td><code>status</code></td><td>String</td><td>Purchase status: <code>available</code>, <code>expired</code>, or <code>pending</code></td></tr><tr><td><code>remainingDownloads</code></td><td>Integer</td><td>Computed remaining downloads (<code>null</code> if unlimited)</td></tr><tr><td><code>customerId</code></td><td>Integer</td><td>ID of the customer who purchased</td></tr><tr><td><code>orderId</code></td><td>Integer</td><td>Associated order ID</td></tr><tr><td><code>orderItemId</code></td><td>Integer</td><td>Associated order item ID</td></tr><tr><td><code>order</code></td><td>Object</td><td>Associated order details</td></tr><tr><td><code>createdAt</code></td><td>DateTime</td><td>Purchase creation date</td></tr><tr><td><code>updatedAt</code></td><td>DateTime</td><td>Purchase last update date</td></tr></tbody></table><h3 id="status-values" tabindex="-1">Status Values <a class="header-anchor" href="#status-values" aria-label="Permalink to &quot;Status Values&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Status</th><th>Description</th></tr></thead><tbody><tr><td><code>available</code></td><td>Download link is active and can be used</td></tr><tr><td><code>pending</code></td><td>Order has not been invoiced yet; download is not available</td></tr><tr><td><code>expired</code></td><td>All downloads have been used or the link has expired</td></tr></tbody></table><h2 id="curl-example" tabindex="-1">cURL Example <a class="header-anchor" href="#curl-example" aria-label="Permalink to &quot;cURL Example&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8000/api/shop/customer-downloadable-products&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_your_key_here&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer YOUR_CUSTOMER_TOKEN&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span></span></code></pre></div><h2 id="empty-collection" tabindex="-1">Empty Collection <a class="header-anchor" href="#empty-collection" aria-label="Permalink to &quot;Empty Collection&quot;">​</a></h2><p>When the customer has no downloadable product purchases:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span></code></pre></div><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>Read-only API:</strong> Only <code>GET</code> operations are available.</li><li><strong>Customer isolation:</strong> Purchases are automatically filtered by the authenticated customer. A customer can never see another customer&#39;s purchases.</li><li><strong>Field naming:</strong> REST responses use camelCase field names (e.g., <code>productName</code>, <code>downloadBought</code>, <code>remainingDownloads</code>).</li><li><strong>Computed field:</strong> <code>remainingDownloads</code> is calculated as <code>downloadBought - downloadUsed - downloadCanceled</code>. Returns <code>null</code> for unlimited downloads.</li></ul>`,17)]))}const m=e(n,[["render",s]]);export{u as __pageData,m as default};
