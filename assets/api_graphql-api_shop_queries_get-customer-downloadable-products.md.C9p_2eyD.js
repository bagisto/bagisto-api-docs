import{_ as a,a as e,o as s,ai as n}from"./chunks/framework.BbOtTPsL.js";const u=JSON.parse('{"title":"Get Customer Downloadable Products","description":"","frontmatter":{"outline":false,"examples":[{"id":"get-customer-downloadable-products-basic","title":"Get All Customer Downloadable Products","description":"Retrieve a paginated list of downloadable product purchases for the authenticated customer using cursor-based pagination.","query":"query GetCustomerDownloadableProducts {\\n  customerDownloadableProducts(first: 10) {\\n    edges {\\n      cursor\\n      node {\\n        _id\\n        productName\\n        name\\n        fileName\\n        type\\n        downloadBought\\n        downloadUsed\\n        downloadCanceled\\n        status\\n        remainingDownloads\\n        order {\\n          _id\\n          incrementId\\n          status\\n        }\\n        createdAt\\n        updatedAt\\n      }\\n    }\\n    pageInfo {\\n      endCursor\\n      startCursor\\n      hasNextPage\\n      hasPreviousPage\\n    }\\n    totalCount\\n  }\\n}\\n","variables":"{}\\n","response":"{\\n  \\"data\\": {\\n    \\"customerDownloadableProducts\\": {\\n      \\"edges\\": [\\n        {\\n          \\"cursor\\": \\"MQ==\\",\\n          \\"node\\": {\\n            \\"_id\\": 1,\\n            \\"productName\\": \\"Laravel E-Book\\",\\n            \\"name\\": \\"PDF Download\\",\\n            \\"fileName\\": \\"laravel-ebook.pdf\\",\\n            \\"type\\": \\"file\\",\\n            \\"downloadBought\\": 5,\\n            \\"downloadUsed\\": 1,\\n            \\"downloadCanceled\\": 0,\\n            \\"status\\": \\"available\\",\\n            \\"remainingDownloads\\": 4,\\n            \\"order\\": {\\n              \\"_id\\": 101,\\n              \\"incrementId\\": \\"101\\",\\n              \\"status\\": \\"completed\\"\\n            },\\n            \\"createdAt\\": \\"2025-06-15T10:30:00+00:00\\",\\n            \\"updatedAt\\": \\"2025-06-15T10:30:00+00:00\\"\\n          }\\n        },\\n        {\\n          \\"cursor\\": \\"Mg==\\",\\n          \\"node\\": {\\n            \\"_id\\": 2,\\n            \\"productName\\": \\"Stock Photo Pack\\",\\n            \\"name\\": \\"High-Res Bundle\\",\\n            \\"fileName\\": \\"photo-pack.zip\\",\\n            \\"type\\": \\"url\\",\\n            \\"downloadBought\\": 3,\\n            \\"downloadUsed\\": 3,\\n            \\"downloadCanceled\\": 0,\\n            \\"status\\": \\"expired\\",\\n            \\"remainingDownloads\\": 0,\\n            \\"order\\": {\\n              \\"_id\\": 102,\\n              \\"incrementId\\": \\"102\\",\\n              \\"status\\": \\"completed\\"\\n            },\\n            \\"createdAt\\": \\"2025-06-10T08:00:00+00:00\\",\\n            \\"updatedAt\\": \\"2025-06-12T14:00:00+00:00\\"\\n          }\\n        }\\n      ],\\n      \\"pageInfo\\": {\\n        \\"endCursor\\": \\"Mg==\\",\\n        \\"startCursor\\": \\"MQ==\\",\\n        \\"hasNextPage\\": false,\\n        \\"hasPreviousPage\\": false\\n      },\\n      \\"totalCount\\": 2\\n    }\\n  }\\n}\\n","commonErrors":[{"error":"Unauthenticated","cause":"Missing or invalid Bearer token","solution":"Login and provide a valid customer authentication token"},{"error":"Invalid storefront key","cause":"Storefront key is missing or invalid","solution":"Provide a valid X-STOREFRONT-KEY header"}]},{"id":"get-customer-downloadable-products-filter-status","title":"Filter by Status","description":"Filter downloadable product purchases by status (available, expired, or pending).","query":"query GetAvailableDownloads {\\n  customerDownloadableProducts(first: 10, status: \\"available\\") {\\n    edges {\\n      cursor\\n      node {\\n        _id\\n        productName\\n        name\\n        status\\n        downloadBought\\n        downloadUsed\\n        remainingDownloads\\n      }\\n    }\\n    totalCount\\n  }\\n}\\n","variables":"{}\\n","response":"{\\n  \\"data\\": {\\n    \\"customerDownloadableProducts\\": {\\n      \\"edges\\": [\\n        {\\n          \\"cursor\\": \\"MQ==\\",\\n          \\"node\\": {\\n            \\"_id\\": 1,\\n            \\"productName\\": \\"Laravel E-Book\\",\\n            \\"name\\": \\"PDF Download\\",\\n            \\"status\\": \\"available\\",\\n            \\"downloadBought\\": 5,\\n            \\"downloadUsed\\": 1,\\n            \\"remainingDownloads\\": 4\\n          }\\n        }\\n      ],\\n      \\"totalCount\\": 1\\n    }\\n  }\\n}\\n"},{"id":"get-customer-downloadable-products-pagination","title":"Pagination — Forward","description":"Use the `after` cursor to paginate forward through downloadable product results.","query":"query GetNextPage {\\n  customerDownloadableProducts(first: 5, after: \\"MQ==\\") {\\n    edges {\\n      cursor\\n      node {\\n        _id\\n        productName\\n        name\\n        status\\n      }\\n    }\\n    pageInfo {\\n      endCursor\\n      hasNextPage\\n    }\\n    totalCount\\n  }\\n}\\n","variables":"{}\\n","response":"{\\n  \\"data\\": {\\n    \\"customerDownloadableProducts\\": {\\n      \\"edges\\": [\\n        {\\n          \\"cursor\\": \\"Mg==\\",\\n          \\"node\\": {\\n            \\"_id\\": 2,\\n            \\"productName\\": \\"Stock Photo Pack\\",\\n            \\"name\\": \\"High-Res Bundle\\",\\n            \\"status\\": \\"expired\\"\\n          }\\n        }\\n      ],\\n      \\"pageInfo\\": {\\n        \\"endCursor\\": \\"Mg==\\",\\n        \\"hasNextPage\\": false\\n      },\\n      \\"totalCount\\": 2\\n    }\\n  }\\n}\\n"}]},"headers":[],"relativePath":"api/graphql-api/shop/queries/get-customer-downloadable-products.md","filePath":"api/graphql-api/shop/queries/get-customer-downloadable-products.md","lastUpdated":1771606128000}'),d={name:"api/graphql-api/shop/queries/get-customer-downloadable-products.md"};function i(o,t,r,l,p,h){return s(),e("div",null,t[0]||(t[0]=[n(`<h1 id="get-customer-downloadable-products" tabindex="-1">Get Customer Downloadable Products <a class="header-anchor" href="#get-customer-downloadable-products" aria-label="Permalink to &quot;Get Customer Downloadable Products&quot;">​</a></h1><p>Retrieve a paginated list of downloadable product purchases belonging to the authenticated customer. This is a <strong>read-only</strong> API — customers can view their purchased downloadable links, check download status, and see remaining downloads.</p><h2 id="query" tabindex="-1">Query <a class="header-anchor" href="#query" aria-label="Permalink to &quot;Query&quot;">​</a></h2><div class="language-graphql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">query</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetCustomerDownloadableProducts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  customerDownloadableProducts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">first</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    edges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      cursor</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        _id</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        productName</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        name</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        fileName</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        type</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        downloadBought</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        downloadUsed</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        downloadCanceled</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        status</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        remainingDownloads</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          _id</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          incrementId</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">          status</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        createdAt</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        updatedAt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    pageInfo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      endCursor</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      startCursor</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      hasNextPage</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      hasPreviousPage</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    totalCount</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Argument</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>first</code></td><td>Int</td><td>No</td><td>Number of items to return from the start (default: 10)</td></tr><tr><td><code>last</code></td><td>Int</td><td>No</td><td>Number of items to return from the end</td></tr><tr><td><code>after</code></td><td>String</td><td>No</td><td>Cursor to start pagination after</td></tr><tr><td><code>before</code></td><td>String</td><td>No</td><td>Cursor to start pagination before</td></tr><tr><td><code>status</code></td><td>String</td><td>No</td><td>Filter by status: <code>available</code>, <code>expired</code>, or <code>pending</code></td></tr></tbody></table><h2 id="response-fields" tabindex="-1">Response Fields <a class="header-anchor" href="#response-fields" aria-label="Permalink to &quot;Response Fields&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>_id</code></td><td>Int</td><td>Downloadable link purchase ID</td></tr><tr><td><code>productName</code></td><td>String</td><td>Name of the purchased product</td></tr><tr><td><code>name</code></td><td>String</td><td>Name of the downloadable link</td></tr><tr><td><code>fileName</code></td><td>String</td><td>Display name of the file</td></tr><tr><td><code>type</code></td><td>String</td><td>Link type: <code>file</code> or <code>url</code></td></tr><tr><td><code>downloadBought</code></td><td>Int</td><td>Total number of allowed downloads</td></tr><tr><td><code>downloadUsed</code></td><td>Int</td><td>Number of times downloaded</td></tr><tr><td><code>downloadCanceled</code></td><td>Int</td><td>Number of canceled downloads</td></tr><tr><td><code>status</code></td><td>String</td><td>Purchase status: <code>available</code>, <code>expired</code>, or <code>pending</code></td></tr><tr><td><code>remainingDownloads</code></td><td>Int</td><td>Computed remaining downloads (<code>null</code> if unlimited)</td></tr><tr><td><code>order</code></td><td>Object</td><td>Associated order details</td></tr><tr><td><code>createdAt</code></td><td>DateTime</td><td>Purchase creation date</td></tr><tr><td><code>updatedAt</code></td><td>DateTime</td><td>Purchase last update date</td></tr></tbody></table><h3 id="status-values" tabindex="-1">Status Values <a class="header-anchor" href="#status-values" aria-label="Permalink to &quot;Status Values&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Status</th><th>Description</th></tr></thead><tbody><tr><td><code>available</code></td><td>Download link is active and can be used</td></tr><tr><td><code>pending</code></td><td>Order has not been invoiced yet; download is not available</td></tr><tr><td><code>expired</code></td><td>All downloads have been used or the link has expired</td></tr></tbody></table><h2 id="request-headers" tabindex="-1">Request Headers <a class="header-anchor" href="#request-headers" aria-label="Permalink to &quot;Request Headers&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Header</th><th>Value</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td><code>application/json</code></td><td>Yes</td><td>Request content type</td></tr><tr><td><code>X-STOREFRONT-KEY</code></td><td><code>pk_storefront_xxx</code></td><td>Yes</td><td>Storefront API key</td></tr><tr><td><code>Authorization</code></td><td><code>Bearer {token}</code></td><td>Yes</td><td>Customer authentication token</td></tr></tbody></table><h2 id="curl-example" tabindex="-1">cURL Example <a class="header-anchor" href="#curl-example" aria-label="Permalink to &quot;cURL Example&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8000/api/graphql&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_your_key_here&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer YOUR_CUSTOMER_TOKEN&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;query&quot;: &quot;query { customerDownloadableProducts(first: 10) { edges { cursor node { _id productName name fileName type downloadBought downloadUsed status remainingDownloads createdAt } } pageInfo { endCursor hasNextPage } totalCount } }&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>Read-only API:</strong> Only <code>GET</code> / query operations are available.</li><li><strong>Customer isolation:</strong> Purchases are automatically filtered by the authenticated customer. A customer can never see another customer&#39;s purchases.</li><li><strong>Status filtering:</strong> Use the <code>status</code> parameter to filter by <code>available</code>, <code>expired</code>, or <code>pending</code>.</li><li><strong>Cursor pagination:</strong> Uses cursor-based pagination. Use <code>first</code>/<code>after</code> for forward pagination and <code>last</code>/<code>before</code> for backward pagination.</li><li><strong>Computed field:</strong> <code>remainingDownloads</code> is calculated as <code>downloadBought - downloadUsed - downloadCanceled</code>. Returns <code>null</code> for unlimited downloads.</li></ul>`,16)]))}const k=a(d,[["render",i]]);export{u as __pageData,k as default};
