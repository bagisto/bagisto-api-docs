import{_ as s,a as t,o as e,ai as a}from"./chunks/framework.BbOtTPsL.js";const k=JSON.parse(`{"title":"Get Customer Order Shipment","description":"","frontmatter":{"outline":false,"examples":[{"id":"get-customer-order-shipment-basic","title":"Get Single Customer Order Shipment","description":"Retrieve details of a specific shipment by its ID with tracking information and line items.","query":"query getOrderShipment {\\n  customerOrderShipment(id: 5) {\\n    id\\n    _id\\n    status\\n    trackNumber\\n    carrierTitle\\n    totalQty\\n    createdAt\\n    items {\\n      edges {\\n        node {\\n          id\\n          name\\n          sku\\n          qty\\n        }\\n      }\\n    }\\n    shippingNumber\\n  }\\n}\\n","variables":"{}\\n","response":"{\\n  \\"data\\": {\\n    \\"customerOrderShipment\\": {\\n      \\"id\\": \\"/api/shop/shipments/5\\",\\n      \\"_id\\": 5,\\n      \\"status\\": \\"shipped\\",\\n      \\"trackNumber\\": \\"794698949845\\",\\n      \\"carrierTitle\\": \\"FedEx\\",\\n      \\"totalQty\\": 2,\\n      \\"createdAt\\": \\"2025-01-20T14:30:00+00:00\\",\\n      \\"items\\": {\\n        \\"edges\\": [\\n          {\\n            \\"node\\": {\\n              \\"id\\": \\"/api/shop/shipment-items/1\\",\\n              \\"name\\": \\"Sample Product\\",\\n              \\"sku\\": \\"PROD-001\\",\\n              \\"qty\\": 2\\n            }\\n          }\\n        ]\\n      },\\n      \\"shippingNumber\\": \\"SH-005\\"\\n    }\\n  }\\n}\\n","commonErrors":[{"error":"UNAUTHENTICATED","cause":"Missing or invalid Bearer token","solution":"Login and provide a valid customer authentication token"},{"error":"NOT_FOUND","cause":"Shipment with specified ID does not exist or does not belong to the customer's order","solution":"Verify the shipment ID and ensure it belongs to one of the authenticated customer's orders"},{"error":"INVALID_ID","cause":"Invalid or missing shipment ID","solution":"Provide a valid shipment ID as an integer"}]}]},"headers":[],"relativePath":"api/graphql-api/shop/queries/get-customer-order-shipment.md","filePath":"api/graphql-api/shop/queries/get-customer-order-shipment.md","lastUpdated":1771606128000}`),n={name:"api/graphql-api/shop/queries/get-customer-order-shipment.md"};function r(d,i,h,o,l,p){return e(),t("div",null,i[0]||(i[0]=[a(`<h1 id="get-customer-order-shipment" tabindex="-1">Get Customer Order Shipment <a class="header-anchor" href="#get-customer-order-shipment" aria-label="Permalink to &quot;Get Customer Order Shipment&quot;">​</a></h1><h2 id="about" tabindex="-1">About <a class="header-anchor" href="#about" aria-label="Permalink to &quot;About&quot;">​</a></h2><p>The <code>customerOrderShipment</code> query retrieves detailed information for a specific shipment identified by its ID. Customers can only access shipments from their own orders — requesting another customer&#39;s shipment returns a not found error, preventing enumeration attacks. Use this query to:</p><ul><li>Display shipment details on a tracking page</li><li>Show tracking number and carrier information</li><li>View shipped items and quantities</li><li>Track individual shipment status</li><li>Display shipment creation and tracking details</li><li>Build shipment tracking interfaces</li></ul><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><p>This query requires customer authentication:</p><ul><li><strong>Authenticated customers</strong>: Provide a valid customer authentication token in the <code>Authorization</code> header. Obtain this token via the <a href="/api/graphql-api/shop/mutations/customer-login.html">Customer Login API</a>.</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Authorization: Bearer &lt;accessToken&gt;</span></span>
<span class="line"><span>X-STOREFRONT-KEY: &lt;storefrontKey&gt;</span></span></code></pre></div><h2 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Argument</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>Int!</code></td><td>✅ Yes</td><td>The numeric ID of the shipment to retrieve.</td></tr></tbody></table><h2 id="possible-returns" tabindex="-1">Possible Returns <a class="header-anchor" href="#possible-returns" aria-label="Permalink to &quot;Possible Returns&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>ID!</code></td><td>IRI identifier of the shipment.</td></tr><tr><td><code>_id</code></td><td><code>ID!</code></td><td>Numeric shipment ID.</td></tr><tr><td><code>status</code></td><td><code>String!</code></td><td>Shipment status: <code>pending</code>, <code>shipped</code>, <code>delivered</code>, <code>cancelled</code>.</td></tr><tr><td><code>trackNumber</code></td><td><code>String</code></td><td>Carrier tracking number for shipment tracking.</td></tr><tr><td><code>carrierTitle</code></td><td><code>String</code></td><td>Carrier name (e.g. <code>FedEx</code>, <code>UPS</code>, <code>Standard Post</code>).</td></tr><tr><td><code>totalQty</code></td><td><code>Int!</code></td><td>Total quantity of items in the shipment.</td></tr><tr><td><code>createdAt</code></td><td><code>DateTime!</code></td><td>Shipment creation timestamp.</td></tr><tr><td><code>items</code></td><td><code>ShipmentItemConnection</code></td><td>Paginated list of shipment line items.</td></tr><tr><td><code>items.edges.node.id</code></td><td><code>ID!</code></td><td>IRI identifier of the shipment item.</td></tr><tr><td><code>items.edges.node.name</code></td><td><code>String!</code></td><td>Product name in the shipment.</td></tr><tr><td><code>items.edges.node.sku</code></td><td><code>String!</code></td><td>Product SKU.</td></tr><tr><td><code>items.edges.node.qty</code></td><td><code>Int!</code></td><td>Quantity shipped.</td></tr><tr><td><code>shippingNumber</code></td><td><code>String</code></td><td>Unique shipping number for the shipment.</td></tr></tbody></table><h2 id="error-handling" tabindex="-1">Error Handling <a class="header-anchor" href="#error-handling" aria-label="Permalink to &quot;Error Handling&quot;">​</a></h2><h3 id="shipment-not-found" tabindex="-1">Shipment Not Found <a class="header-anchor" href="#shipment-not-found" aria-label="Permalink to &quot;Shipment Not Found&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer shipment with ID </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">999</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not found.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;locations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;line&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;column&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;customerOrderShipment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="unauthenticated-request" tabindex="-1">Unauthenticated Request <a class="header-anchor" href="#unauthenticated-request" aria-label="Permalink to &quot;Unauthenticated Request&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer is not logged in.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;locations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;line&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;column&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;customerOrderShipment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="invalid-shipment-id" tabindex="-1">Invalid Shipment ID <a class="header-anchor" href="#invalid-shipment-id" aria-label="Permalink to &quot;Invalid Shipment ID&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Invalid shipment ID provided.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;locations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;line&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;column&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;customerOrderShipment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">​</a></h2><ul><li>Display single shipment tracking details on a dedicated page</li><li>Show tracking number for carrier tracking websites</li><li>View shipped items and quantities for a specific shipment</li><li>Track individual shipment status and delivery progress</li><li>Build detailed shipment information pages</li><li>Integrate with carrier tracking APIs using tracking numbers</li></ul><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>Customer isolation:</strong> A customer can only view shipments from their own orders. Requesting another customer&#39;s shipment returns a 404, preventing enumeration attacks.</li><li><strong>Read-only:</strong> Only <code>GET</code> operations are available. Shipments cannot be modified through this API.</li><li><strong>Tracking information:</strong> The <code>trackNumber</code> field can be used to track the shipment on the carrier&#39;s website.</li><li><strong>Item-level details:</strong> Each shipment item includes SKU and quantity for order fulfillment verification.</li><li><strong>Status tracking:</strong> Monitor shipment status changes from <code>pending</code> to <code>shipped</code> to <code>delivered</code>.</li></ul><h2 id="related-resources" tabindex="-1">Related Resources <a class="header-anchor" href="#related-resources" aria-label="Permalink to &quot;Related Resources&quot;">​</a></h2><ul><li><a href="/api/graphql-api/shop/queries/get-customer-order-shipments.html">Get Customer Order Shipments</a> — Query all shipments for a specific order</li><li><a href="/api/graphql-api/shop/queries/get-customer-order.html">Get Customer Order</a> — Query a specific order with shipment summary</li><li><a href="/api/graphql-api/shop/queries/get-customer-orders.html">Get All Customer Orders</a> — Query all customer orders</li><li><a href="/api/graphql-api/shop/queries/get-customer-profile.html">Get Customer Profile</a> — Query customer profile</li></ul>`,25)]))}const u=s(n,[["render",r]]);export{k as __pageData,u as default};
