import{_ as o,a,o as e,ai as n}from"./chunks/framework.BbOtTPsL.js";const h=JSON.parse(`{"title":"Apply Coupon","description":"","frontmatter":{"outline":false,"examples":[{"id":"apply-coupon-to-cart","title":"Apply Coupon Code to Cart","description":"Apply a valid coupon code to reduce cart total.","query":"mutation createApplyCoupon (\\n    $couponCode: String!\\n) {\\n  createApplyCoupon(input: {\\n    couponCode: $couponCode\\n  }) {\\n    applyCoupon {\\n      id            \\n      discountAmount\\n      grandTotal\\n    }\\n  }\\n}\\n","variables":"{\\n    \\"couponCode\\": \\"SAVE10\\"\\n}\\n","response":"{\\n    \\"data\\": {\\n        \\"createApplyCoupon\\": {\\n            \\"applyCoupon\\": {\\n                \\"id\\": \\"4813\\", \\n                \\"discountAmount\\": 0,\\n                \\"grandTotal\\": 100\\n            }\\n        }\\n    }\\n}\\n","commonErrors":[{"error":"INVALID_COUPON","cause":"Coupon code does not exist","solution":"Verify coupon code spelling"},{"error":"COUPON_EXPIRED","cause":"Coupon validity period has ended","solution":"Use an active coupon"},{"error":"MINIMUM_ORDER_NOT_MET","cause":"Cart total doesn't meet minimum requirement","solution":"Add more items to cart"}]}]},"headers":[],"relativePath":"api/graphql-api/shop/mutations/apply-coupon.md","filePath":"api/graphql-api/shop/mutations/apply-coupon.md","lastUpdated":1771606128000}`),i={name:"api/graphql-api/shop/mutations/apply-coupon.md"};function d(p,t,r,l,c,s){return e(),a("div",null,t[0]||(t[0]=[n('<h1 id="apply-coupon" tabindex="-1">Apply Coupon <a class="header-anchor" href="#apply-coupon" aria-label="Permalink to &quot;Apply Coupon&quot;">​</a></h1><h2 id="about" tabindex="-1">About <a class="header-anchor" href="#about" aria-label="Permalink to &quot;About&quot;">​</a></h2><p>The <code>applyCoupon</code> mutation applies a promotional coupon code to a shopping cart. Use this mutation to:</p><ul><li>Apply discount codes to reduce cart total</li><li>Enable promo/coupon code functionality</li><li>Implement &quot;Apply Coupon&quot; features on cart page</li><li>Validate coupon eligibility</li><li>Display discount calculations</li><li>Support promotional campaigns</li></ul><p>This mutation validates coupon code, checks eligibility conditions, and recalculates cart totals with applied discount.</p><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><p>This mutation supports both authenticated customers and guest users:</p><ul><li><strong>Authenticated customers</strong>: Provide a valid customer authentication token in the <code>Authorization</code> header. Obtain this token via the <a href="/api/graphql-api/shop/mutations/customer-login.html">Customer Login API</a>.</li><li><strong>Guest users</strong>: Provide the <code>cartToken</code> obtained from the <a href="/api/graphql-api/shop/mutations/create-cart.html">Create Cart mutation</a>.</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Authorization: Bearer &lt;accessToken&gt;</span></span></code></pre></div><h2 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Argument</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>couponCode</code></td><td><code>String!</code></td><td>Promotional coupon code to apply.</td></tr></tbody></table><h2 id="possible-returns" tabindex="-1">Possible Returns <a class="header-anchor" href="#possible-returns" aria-label="Permalink to &quot;Possible Returns&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>applyCoupon</code></td><td><code>Coupon!</code></td><td>Return coupon and cart related values.</td></tr><tr><td><code>applyCoupon.id</code></td><td><code>String</code></td><td>id of the cart.</td></tr><tr><td><code>applyCoupon.discountAmount</code></td><td><code>Float</code></td><td>Total discount from all applied coupons.</td></tr><tr><td><code>applyCoupon.grandTotal</code></td><td><code>Float!</code></td><td>Recalculated cart total with discount.</td></tr><tr><td><code>errors</code></td><td><code>[ErrorMessage!]</code></td><td>Validation errors if application failed.</td></tr></tbody></table>',13)]))}const m=o(i,[["render",d]]);export{h as __pageData,m as default};
