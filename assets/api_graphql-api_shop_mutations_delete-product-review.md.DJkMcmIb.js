import{_ as i,a as t,o as a,ai as r}from"./chunks/framework.BbOtTPsL.js";const h=JSON.parse('{"title":"Delete Product Review","description":"","frontmatter":{"outline":false,"examples":[{"id":"delete-product-review-basic","title":"Delete Product Review - Basic","description":"Delete a product review by providing its ID in IRI format.","query":"mutation deleteProductReview($input: deleteProductReviewInput!) {\\n  deleteProductReview(input: $input) {\\n    productReview {\\n      id\\n    }\\n  }\\n}\\n","variables":"{\\n  \\"input\\": {\\n    \\"id\\": \\"/api/shop/reviews/93\\"\\n  }\\n}\\n","response":"{\\n  \\"data\\": {\\n    \\"deleteProductReview\\": {\\n      \\"productReview\\": {\\n        \\"id\\": \\"/api/shop/reviews/93\\"\\n      }\\n    }\\n  }\\n}\\n","commonErrors":[{"error":"id-required","cause":"Review ID parameter is missing","solution":"Provide the review ID in IRI format (e.g., \\"/api/shop/reviews/93\\")"},{"error":"invalid-id-format","cause":"Invalid ID format. Expected IRI format like \\"/api/shop/reviews/93\\"","solution":"Use IRI format ID (/api/shop/reviews/{id}) for review deletion"},{"error":"not-found","cause":"Review with given ID does not exist","solution":"Verify the review ID is correct and the review exists"}]},{"id":"delete-product-review-with-tracking","title":"Delete Product Review - With Tracking","description":"Delete a product review and track the deletion with client mutation ID.","query":"mutation deleteProductReview($input: deleteProductReviewInput!) {\\n  deleteProductReview(input: $input) {\\n    productReview {\\n      id\\n    }\\n    clientMutationId\\n  }\\n}\\n","variables":"{\\n  \\"input\\": {\\n    \\"id\\": \\"/api/shop/reviews/60\\",\\n    \\"clientMutationId\\": \\"delete-review-mutation-001\\"\\n  }\\n}\\n","response":"{\\n  \\"data\\": {\\n    \\"deleteProductReview\\": {\\n      \\"productReview\\": {\\n        \\"id\\": \\"/api/shop/reviews/60\\"\\n      },\\n      \\"clientMutationId\\": \\"delete-review-mutation-001\\"\\n    }\\n  }\\n}\\n","commonErrors":[{"error":"id-required","cause":"Review ID parameter is missing","solution":"Provide the review ID in IRI format (e.g., \\"/api/shop/reviews/93\\")"},{"error":"invalid-id-format","cause":"Invalid ID format. Expected IRI format like \\"/api/shop/reviews/93\\"","solution":"Use IRI format ID (/api/shop/reviews/{id}) for review deletion"},{"error":"not-found","cause":"Review with given ID does not exist","solution":"Verify the review ID is correct and the review exists"},{"error":"unauthorized","cause":"User does not have permission to delete this review","solution":"Ensure the user has admin privileges or is the review owner"}]}]},"headers":[],"relativePath":"api/graphql-api/shop/mutations/delete-product-review.md","filePath":"api/graphql-api/shop/mutations/delete-product-review.md","lastUpdated":1771606128000}'),o={name:"api/graphql-api/shop/mutations/delete-product-review.md"};function n(s,e,l,d,p,c){return a(),t("div",null,e[0]||(e[0]=[r(`<h1 id="delete-product-review" tabindex="-1">Delete Product Review <a class="header-anchor" href="#delete-product-review" aria-label="Permalink to &quot;Delete Product Review&quot;">​</a></h1><h2 id="about" tabindex="-1">About <a class="header-anchor" href="#about" aria-label="Permalink to &quot;About&quot;">​</a></h2><p>The <code>deleteProductReview</code> mutation allows deleting product reviews. Use this mutation to:</p><ul><li>Remove inappropriate or spam reviews</li><li>Delete duplicate reviews</li><li>Remove reviews at customer request</li><li>Manage review inventory</li><li>Clean up test/demo reviews</li><li>Enforce moderation policies</li><li>Track deletion operations with audit trail</li></ul><p>This mutation requires the review ID in IRI format and is a permanent operation that cannot be undone.</p><h2 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Argument</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td><code>ID!</code></td><td>✅ Yes</td><td>Review ID in IRI format (e.g., <code>/api/shop/reviews/93</code>). Required for identifying which review to delete.</td></tr><tr><td><code>clientMutationId</code></td><td><code>String</code></td><td>❌ No</td><td>Optional client mutation tracking ID for audit trail.</td></tr></tbody></table><h2 id="input-fields-details" tabindex="-1">Input Fields Details <a class="header-anchor" href="#input-fields-details" aria-label="Permalink to &quot;Input Fields Details&quot;">​</a></h2><h3 id="id" tabindex="-1">id <a class="header-anchor" href="#id" aria-label="Permalink to &quot;id&quot;">​</a></h3><ul><li><strong>Type</strong>: ID (IRI Format)</li><li><strong>Required</strong>: Yes</li><li><strong>Format</strong>: <code>/api/shop/reviews/{id}</code> or <code>/api/shop/reviews/{id}</code></li><li><strong>Description</strong>: Unique identifier for the review being deleted.</li><li><strong>Example</strong>: <code>/api/shop/reviews/93</code></li><li><strong>Note</strong>: Only IRI format is supported; numeric IDs are not accepted.</li><li><strong>Important</strong>: This operation is permanent and cannot be reversed.</li></ul><h3 id="clientmutationid" tabindex="-1">clientMutationId <a class="header-anchor" href="#clientmutationid" aria-label="Permalink to &quot;clientMutationId&quot;">​</a></h3><ul><li><strong>Type</strong>: String</li><li><strong>Required</strong>: No</li><li><strong>Description</strong>: Optional tracking ID for this deletion request. Useful for audit trails and request tracking.</li><li><strong>Example</strong>: <code>&quot;delete-review-mutation-001&quot;</code></li><li><strong>Usage</strong>: Echoed back in response for request verification and logging.</li></ul><h2 id="possible-returns" tabindex="-1">Possible Returns <a class="header-anchor" href="#possible-returns" aria-label="Permalink to &quot;Possible Returns&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>productReview</code></td><td><code>ProductReview!</code></td><td>The deleted product review object.</td></tr><tr><td><code>productReview.id</code></td><td><code>ID!</code></td><td>ID of the deleted review (returned as confirmation).</td></tr><tr><td><code>clientMutationId</code></td><td><code>String</code></td><td>Echoed client mutation ID for tracking and audit purposes.</td></tr></tbody></table><h2 id="id-format-requirements" tabindex="-1">ID Format Requirements <a class="header-anchor" href="#id-format-requirements" aria-label="Permalink to &quot;ID Format Requirements&quot;">​</a></h2><h3 id="valid-id-format-iri" tabindex="-1">Valid ID Format (IRI) <a class="header-anchor" href="#valid-id-format-iri" aria-label="Permalink to &quot;Valid ID Format (IRI)&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/api/shop/reviews/93</span></span>
<span class="line"><span>/api/shop/reviews/60</span></span>
<span class="line"><span>/api/shop/reviews/100</span></span></code></pre></div><h3 id="invalid-formats-not-supported" tabindex="-1">Invalid Formats (Not Supported) <a class="header-anchor" href="#invalid-formats-not-supported" aria-label="Permalink to &quot;Invalid Formats (Not Supported)&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>93                    ❌ Numeric ID only</span></span>
<span class="line"><span>reviews/93            ❌ Partial path</span></span>
<span class="line"><span>/reviews/93           ❌ Incorrect path</span></span></code></pre></div><h2 id="important-notes" tabindex="-1">Important Notes <a class="header-anchor" href="#important-notes" aria-label="Permalink to &quot;Important Notes&quot;">​</a></h2><h3 id="permanent-operation" tabindex="-1">Permanent Operation <a class="header-anchor" href="#permanent-operation" aria-label="Permalink to &quot;Permanent Operation&quot;">​</a></h3><ul><li>Deletion is <strong>permanent and irreversible</strong></li><li>No data recovery possible after deletion</li><li>Consider archiving instead of deleting for sensitive data</li><li>Always confirm before deletion in UI</li></ul><h3 id="before-deletion" tabindex="-1">Before Deletion <a class="header-anchor" href="#before-deletion" aria-label="Permalink to &quot;Before Deletion&quot;">​</a></h3><ul><li>Verify the correct review ID</li><li>Consider user notification requirements</li><li>Check for related data dependencies</li><li>Log deletion reason for audit trail</li></ul><h3 id="after-deletion" tabindex="-1">After Deletion <a class="header-anchor" href="#after-deletion" aria-label="Permalink to &quot;After Deletion&quot;">​</a></h3><ul><li>Review cannot be queried by ID</li><li>Related product review counts update</li><li>Customer notification (if applicable)</li><li>Audit log should record deletion</li></ul><h2 id="use-cases" tabindex="-1">Use Cases <a class="header-anchor" href="#use-cases" aria-label="Permalink to &quot;Use Cases&quot;">​</a></h2><h3 id="_1-remove-spam-review" tabindex="-1">1. Remove Spam Review <a class="header-anchor" href="#_1-remove-spam-review" aria-label="Permalink to &quot;1. Remove Spam Review&quot;">​</a></h3><p>Delete reviews that are spam or off-topic.</p><h3 id="_2-delete-duplicate-reviews" tabindex="-1">2. Delete Duplicate Reviews <a class="header-anchor" href="#_2-delete-duplicate-reviews" aria-label="Permalink to &quot;2. Delete Duplicate Reviews&quot;">​</a></h3><p>Remove duplicate reviews from same user.</p><h3 id="_3-user-requested-deletion" tabindex="-1">3. User Requested Deletion <a class="header-anchor" href="#_3-user-requested-deletion" aria-label="Permalink to &quot;3. User Requested Deletion&quot;">​</a></h3><p>Delete reviews at customer&#39;s explicit request.</p><h3 id="_4-violation-of-policies" tabindex="-1">4. Violation of Policies <a class="header-anchor" href="#_4-violation-of-policies" aria-label="Permalink to &quot;4. Violation of Policies&quot;">​</a></h3><p>Remove reviews that violate community guidelines.</p><h3 id="_5-test-demo-data-cleanup" tabindex="-1">5. Test/Demo Data Cleanup <a class="header-anchor" href="#_5-test-demo-data-cleanup" aria-label="Permalink to &quot;5. Test/Demo Data Cleanup&quot;">​</a></h3><p>Delete temporary reviews used for testing.</p><h3 id="_6-data-correction" tabindex="-1">6. Data Correction <a class="header-anchor" href="#_6-data-correction" aria-label="Permalink to &quot;6. Data Correction&quot;">​</a></h3><p>Remove incorrectly published reviews.</p><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><ol><li><strong>Confirm Before Delete</strong> - Always confirm deletion in UI before submitting</li><li><strong>Log Deletions</strong> - Use clientMutationId to track deletion operations</li><li><strong>Archive First</strong> - Consider archiving sensitive reviews instead of deleting</li><li><strong>Audit Trail</strong> - Maintain records of who deleted what and when</li><li><strong>User Notification</strong> - Notify customers if their review is deleted</li><li><strong>Batch Operations</strong> - For multiple deletions, execute sequentially with tracking</li><li><strong>Verify ID</strong> - Double-check IRI format ID before submission</li><li><strong>Access Control</strong> - Restrict deletion to authorized users only</li></ol><h2 id="deletion-workflow" tabindex="-1">Deletion Workflow <a class="header-anchor" href="#deletion-workflow" aria-label="Permalink to &quot;Deletion Workflow&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. Fetch review details (verify correct review)</span></span>
<span class="line"><span>2. Show confirmation dialog to user</span></span>
<span class="line"><span>3. If confirmed:</span></span>
<span class="line"><span>   a. Submit deleteProductReview mutation</span></span>
<span class="line"><span>   b. Track with clientMutationId</span></span>
<span class="line"><span>   c. Handle success response</span></span>
<span class="line"><span>   d. Update UI (remove from list)</span></span>
<span class="line"><span>   e. Log deletion in audit trail</span></span>
<span class="line"><span>4. If cancelled:</span></span>
<span class="line"><span>   a. Keep review in system</span></span>
<span class="line"><span>   b. No action needed</span></span></code></pre></div><h2 id="error-scenarios" tabindex="-1">Error Scenarios <a class="header-anchor" href="#error-scenarios" aria-label="Permalink to &quot;Error Scenarios&quot;">​</a></h2><h3 id="missing-id" tabindex="-1">Missing ID <a class="header-anchor" href="#missing-id" aria-label="Permalink to &quot;Missing ID&quot;">​</a></h3><p>When <code>id</code> is not provided, mutation fails with validation error.</p><h3 id="invalid-id-format" tabindex="-1">Invalid ID Format <a class="header-anchor" href="#invalid-id-format" aria-label="Permalink to &quot;Invalid ID Format&quot;">​</a></h3><p>When ID is provided in numeric format instead of IRI format.</p><h3 id="review-not-found" tabindex="-1">Review Not Found <a class="header-anchor" href="#review-not-found" aria-label="Permalink to &quot;Review Not Found&quot;">​</a></h3><p>When provided ID doesn&#39;t correspond to existing review (already deleted or invalid).</p><h3 id="unauthorized-access" tabindex="-1">Unauthorized Access <a class="header-anchor" href="#unauthorized-access" aria-label="Permalink to &quot;Unauthorized Access&quot;">​</a></h3><p>When user lacks permissions to delete the review.</p><h3 id="database-constraint" tabindex="-1">Database Constraint <a class="header-anchor" href="#database-constraint" aria-label="Permalink to &quot;Database Constraint&quot;">​</a></h3><p>When review deletion fails due to database constraints or triggers.</p><h2 id="related-operations" tabindex="-1">Related Operations <a class="header-anchor" href="#related-operations" aria-label="Permalink to &quot;Related Operations&quot;">​</a></h2><p><strong>Before Deleting:</strong></p><ul><li><a href="/api/graphql-api/shop/queries/get-product-review.html">Get Product Review</a> - Fetch review details</li><li><a href="/api/graphql-api/shop/queries/get-product-reviews.html">Get Product Reviews</a> - View all reviews</li></ul><p><strong>Review Management:</strong></p><ul><li><a href="/api/graphql-api/shop/mutations/create-product-review.html">Create Product Review</a> - Create new reviews</li><li><a href="/api/graphql-api/shop/mutations/update-product-review.html">Update Product Review</a> - Modify existing reviews</li></ul><p><strong>Related Resources:</strong></p><ul><li><a href="/api/graphql-api/shop/queries/get-product.html">Get Product</a> - Query product details</li><li><a href="/api/graphql-api/shop/mutations.html">Mutations Guide</a> - Overview of shop mutations</li><li><a href="/api/graphql-api/shop-api.html">Shop API Overview</a> - Overview of Shop API resources</li></ul><h2 id="audit-trail-example" tabindex="-1">Audit Trail Example <a class="header-anchor" href="#audit-trail-example" aria-label="Permalink to &quot;Audit Trail Example&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Event: Product Review Deleted</span></span>
<span class="line"><span>Review ID: /api/shop/reviews/93</span></span>
<span class="line"><span>Mutation ID: delete-review-mutation-001</span></span>
<span class="line"><span>User: admin@example.com</span></span>
<span class="line"><span>Timestamp: 2025-12-26T20:15:30+05:30</span></span>
<span class="line"><span>Reason: Spam content</span></span>
<span class="line"><span>Status: Success</span></span></code></pre></div><h2 id="recovery-options" tabindex="-1">Recovery Options <a class="header-anchor" href="#recovery-options" aria-label="Permalink to &quot;Recovery Options&quot;">​</a></h2><p>Since deletion is permanent:</p><ul><li><strong>Database Backup</strong>: Restore from database backup (if available)</li><li><strong>Archive Strategy</strong>: Use status=2 (rejected) instead of deletion for soft-delete</li><li><strong>Soft Delete</strong>: Flag review as deleted without removing data</li><li><strong>Audit Log</strong>: Maintain detailed deletion logs for compliance</li></ul><h2 id="safety-checklist" tabindex="-1">Safety Checklist <a class="header-anchor" href="#safety-checklist" aria-label="Permalink to &quot;Safety Checklist&quot;">​</a></h2><p>Before executing delete mutation:</p><ul><li>✅ Verified correct review ID in IRI format</li><li>✅ Confirmed review content requires deletion</li><li>✅ User authorization verified</li><li>✅ Reason for deletion documented</li><li>✅ Audit trail prepared</li><li>✅ User notification plan confirmed</li><li>✅ Backup verified (if needed)</li><li>✅ No critical data dependencies</li></ul><hr><p><strong>⚠️ Warning</strong>: This operation is irreversible. Always verify the review ID and ensure proper authorization before executing deletion.</p>`,71)]))}const v=i(o,[["render",n]]);export{h as __pageData,v as default};
