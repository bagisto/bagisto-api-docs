import{_ as i,a,o as t,ai as e}from"./chunks/framework.BbOtTPsL.js";const u=JSON.parse('{"title":"API Authentication Guide","description":"","frontmatter":{},"headers":[],"relativePath":"api/authentication.md","filePath":"api/authentication.md","lastUpdated":1771606128000}'),n={name:"api/authentication.md"};function l(o,s,h,r,p,k){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="api-authentication-guide" tabindex="-1">API Authentication Guide <a class="header-anchor" href="#api-authentication-guide" aria-label="Permalink to &quot;API Authentication Guide&quot;">â€‹</a></h1><p>Bagisto provides multiple authentication methods to secure your API requests. Choose the authentication method based on the type of API access you need.</p><h2 id="quick-authentication-overview" tabindex="-1">Quick Authentication Overview <a class="header-anchor" href="#quick-authentication-overview" aria-label="Permalink to &quot;Quick Authentication Overview&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>Your Use Case</th><th>Authentication Method</th><th>API Type</th><th>Read More</th></tr></thead><tbody><tr><td><strong>Public data</strong> (products, categories)</td><td><code>X-STOREFRONT-KEY</code> header</td><td>Shop API</td><td><a href="#_1-public-apis-storefront">Public APIs</a></td></tr><tr><td><strong>Customer operations</strong> (cart, orders, profile)</td><td><code>X-STOREFRONT-KEY</code> + Bearer token</td><td>Shop API</td><td><a href="#_2-customer-apis">Customer APIs</a></td></tr><tr><td><strong>Admin operations</strong> (manage products, inventory)</td><td>Bearer token (admin)</td><td>Admin API</td><td><a href="#_3-admin-apis">Admin APIs</a></td></tr></tbody></table><h2 id="authentication-architecture" tabindex="-1">Authentication Architecture <a class="header-anchor" href="#authentication-architecture" aria-label="Permalink to &quot;Authentication Architecture&quot;">â€‹</a></h2><p>All Bagisto APIs are built on a secure, Laravel-native foundation:</p><ul><li><strong>Laravel Sanctum</strong> â€” Token-based authentication framework</li><li><strong>Secure Token Generation</strong> â€” Cryptographically secure token creation</li><li><strong>Token Expiration</strong> â€” Configurable token lifetime</li><li><strong>Rate Limiting</strong> â€” Per-key rate limit protection</li><li><strong>HTTPS Required</strong> â€” Enforced in production environments</li></ul><hr><h2 id="_1-public-apis-storefront" tabindex="-1">1. Public APIs (Storefront) <a class="header-anchor" href="#_1-public-apis-storefront" aria-label="Permalink to &quot;1. Public APIs (Storefront)&quot;">â€‹</a></h2><p><strong>Best for:</strong> Reading public data (products, categories, prices) without user login.</p><h3 id="the-basics" tabindex="-1">The Basics <a class="header-anchor" href="#the-basics" aria-label="Permalink to &quot;The Basics&quot;">â€‹</a></h3><ul><li><strong>What you need:</strong> <code>X-STOREFRONT-KEY</code> header</li><li><strong>What you get:</strong> Read-only access to storefront data</li><li><strong>Who can use it:</strong> Anyone (no login required)</li><li><strong>Perfect for:</strong> Mobile apps, websites, third-party integrations</li></ul><h3 id="what-you-can-do" tabindex="-1">What You Can Do <a class="header-anchor" href="#what-you-can-do" aria-label="Permalink to &quot;What You Can Do&quot;">â€‹</a></h3><p>Here are common things you can do with Public APIs:</p><ul><li>ğŸ“¦ Browse products and get detailed product information</li><li>ğŸ·ï¸ View categories and subcategories</li><li>ğŸ¨ Get product attributes and variations</li><li>ğŸ“„ Read CMS pages and content</li><li>ğŸŒ Get available countries and locales</li><li>ğŸ“® Retrieve shipping and payment methods (available options)</li></ul><h3 id="how-to-use" tabindex="-1">How to Use <a class="header-anchor" href="#how-to-use" aria-label="Permalink to &quot;How to Use&quot;">â€‹</a></h3><p><strong>1. Get your Storefront Key</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bagisto-api:generate-key</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Web Storefront&quot;</span></span></code></pre></div><p>You&#39;ll get something like: <code>pk_storefront_xxxxxxxxxxxxx</code></p><p><strong>2. Make a REST API request:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/shop/products&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_xxxxxxxxxxxxx&quot;</span></span></code></pre></div><p><strong>3. Or a GraphQL request:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/graphql&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_xxxxxxxxxxxxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;query&quot;: &quot;query { products { id name price } }&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><h3 id="key-facts" tabindex="-1">Key Facts <a class="header-anchor" href="#key-facts" aria-label="Permalink to &quot;Key Facts&quot;">â€‹</a></h3><ul><li>ğŸ”“ <strong>Read-only</strong> â€” You can&#39;t modify data, only view it</li><li>ğŸ“Š <strong>Cacheable</strong> â€” Responses can be cached for better performance</li><li>âš¡ <strong>Fast</strong> â€” No database lookups for user data</li><li>ğŸš€ <strong>Scalable</strong> â€” Can handle high request volumes</li><li>ğŸ”„ <strong>Rate limited</strong> â€” Default: 100 requests/minute per key (see <a href="./rate-limiting.html">Rate Limiting Guide</a>)</li></ul><hr><h2 id="_2-customer-apis" tabindex="-1">2. Customer APIs <a class="header-anchor" href="#_2-customer-apis" aria-label="Permalink to &quot;2. Customer APIs&quot;">â€‹</a></h2><p><strong>Best for:</strong> Building customer-facing features (shopping cart, orders, profiles) after user login.</p><h3 id="the-basics-1" tabindex="-1">The Basics <a class="header-anchor" href="#the-basics-1" aria-label="Permalink to &quot;The Basics&quot;">â€‹</a></h3><ul><li><strong>What you need:</strong> <code>X-STOREFRONT-KEY</code> header + Bearer token (from customer login)</li><li><strong>What you get:</strong> Access to customer&#39;s personal data and ability to perform actions</li><li><strong>Who can use it:</strong> Authenticated customers only</li><li><strong>Perfect for:</strong> Mobile apps, customer portals, checkout flows</li></ul><h3 id="how-it-works-3-steps" tabindex="-1">How It Works (3 Steps) <a class="header-anchor" href="#how-it-works-3-steps" aria-label="Permalink to &quot;How It Works (3 Steps)&quot;">â€‹</a></h3><p><strong>Step 1: Customer logs in</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/shop/customer/login&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_xxxxxxxxxxxxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;email&quot;: &quot;john@example.com&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;password&quot;: &quot;SecurePass@123&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><p><strong>You&#39;ll get back:</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;John Doe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;john@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;IsInRbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;success&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Login successful&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Step 2: Save the token</strong></p><p>Store the token securely in your application. See the <a href="./introduction.html">Introduction Guide</a> for recommended storage patterns.</p><p><strong>Step 3: Use token in future requests</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/shop/customers/addresses&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_xxxxxxxxxxxxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer IsInRbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span></span></code></pre></div><h3 id="what-you-can-do-1" tabindex="-1">What You Can Do <a class="header-anchor" href="#what-you-can-do-1" aria-label="Permalink to &quot;What You Can Do&quot;">â€‹</a></h3><p>Once authenticated, customers can:</p><ul><li>ğŸ‘¤ View and edit their profile</li><li>ğŸ“ Manage delivery addresses</li><li>ğŸ›’ Add/remove items from cart</li><li>â¤ï¸ Create and manage wishlists</li><li>ğŸ›ï¸ Place orders</li><li>ğŸ“¦ View order history and tracking</li><li>â­ Create product reviews</li><li>ğŸ”„ Manage subscriptions (if enabled)</li></ul><h3 id="key-facts-1" tabindex="-1">Key Facts <a class="header-anchor" href="#key-facts-1" aria-label="Permalink to &quot;Key Facts&quot;">â€‹</a></h3><ul><li>ğŸ‘¤ <strong>User-specific</strong> â€” Each customer sees only their own data</li><li>ğŸ” <strong>Requires login</strong> â€” Must authenticate first (Bearer token)</li><li>ğŸ“ <strong>Read &amp; Write</strong> â€” Can view and modify data</li><li>â±ï¸ <strong>Session-based</strong> â€” Token expires after some time</li><li>ğŸš« <strong>Not cacheable</strong> â€” Personal data shouldn&#39;t be cached</li><li>ğŸ”„ <strong>Requires both headers</strong> â€” Need <code>X-STOREFRONT-KEY</code> AND <code>Authorization: Bearer</code></li></ul><hr><h2 id="_3-admin-apis" tabindex="-1">3. Admin APIs <a class="header-anchor" href="#_3-admin-apis" aria-label="Permalink to &quot;3. Admin APIs&quot;">â€‹</a></h2><p><strong>Best for:</strong> Building admin dashboards to manage products, inventory, customers, and system settings.</p><h3 id="the-basics-2" tabindex="-1">The Basics <a class="header-anchor" href="#the-basics-2" aria-label="Permalink to &quot;The Basics&quot;">â€‹</a></h3><ul><li><strong>What you need:</strong> Bearer token (from admin login)</li><li><strong>What you get:</strong> Full control over all store data</li><li><strong>Who can use it:</strong> Authenticated admin users only</li><li><strong>Perfect for:</strong> Admin dashboards, inventory management, reporting tools</li></ul><h3 id="how-it-works-3-steps-1" tabindex="-1">How It Works (3 Steps) <a class="header-anchor" href="#how-it-works-3-steps-1" aria-label="Permalink to &quot;How It Works (3 Steps)&quot;">â€‹</a></h3><p><strong>Step 1: Admin logs in</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/admin/login&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;email&quot;: &quot;admin@example.com&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;password&quot;: &quot;AdminPass@123&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><p><strong>You&#39;ll get back:</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;email&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Administrator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Login successful&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Step 2: Save the token</strong></p><p>Store the token securely in your application. See the <a href="./introduction.html">Introduction Guide</a> for recommended storage patterns.</p><p><strong>Step 3: Use token in API requests</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/admin/products&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span></span></code></pre></div><p><strong>JavaScript example:</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> token</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&lt;token-from-login-response&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://your-domain.com/api/admin/products&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Authorization&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`Bearer \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">token</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data));</span></span></code></pre></div><h3 id="what-you-can-do-2" tabindex="-1">What You Can Do <a class="header-anchor" href="#what-you-can-do-2" aria-label="Permalink to &quot;What You Can Do&quot;">â€‹</a></h3><p>Admins have full control over:</p><ul><li>ğŸ“¦ Create, read, update, and delete products</li><li>ğŸ·ï¸ Manage categories and product attributes</li><li>ğŸ“Š Manage inventory and stock levels</li><li>ğŸ‘¥ View and manage all customers</li><li>ğŸ›ï¸ Process and manage orders</li><li>ğŸ“ˆ Generate reports and analytics</li><li>âš™ï¸ Configure system settings</li><li>ğŸ“® Set up shipping and payment methods</li><li>ğŸ” Manage admin users and permissions</li></ul><h3 id="key-facts-2" tabindex="-1">Key Facts <a class="header-anchor" href="#key-facts-2" aria-label="Permalink to &quot;Key Facts&quot;">â€‹</a></h3><ul><li>ğŸ”‘ <strong>Admin-only</strong> â€” Requires admin login (no Storefront Key needed)</li><li>ğŸ” <strong>Requires login</strong> â€” Must authenticate with admin credentials</li><li>ğŸ“ <strong>Full CRUD</strong> â€” Create, read, update, and delete everything</li><li>âš™ï¸ <strong>System-wide</strong> â€” Can affect all store data</li><li>ğŸš« <strong>Not cacheable</strong> â€” Data changes frequently</li><li>ğŸ”’ <strong>Role-based</strong> â€” What you can do depends on your admin role</li></ul><hr><h2 id="authentication-summary-table" tabindex="-1">Authentication Summary Table <a class="header-anchor" href="#authentication-summary-table" aria-label="Permalink to &quot;Authentication Summary Table&quot;">â€‹</a></h2><p><strong>Quick reference â€” Which auth method for which API?</strong></p><table tabindex="0"><thead><tr><th>API Type</th><th>Use Case</th><th>Headers Required</th><th>Login Needed</th></tr></thead><tbody><tr><td><strong>Public</strong></td><td>Browse products, categories</td><td><code>X-STOREFRONT-KEY</code> only</td><td>âŒ No</td></tr><tr><td><strong>Customer</strong></td><td>Cart, orders, profile</td><td><code>X-STOREFRONT-KEY</code> + <code>Authorization: Bearer</code></td><td>âœ… Customer login</td></tr><tr><td><strong>Admin</strong></td><td>Manage products, inventory</td><td><code>Authorization: Bearer</code> only</td><td>âœ… Admin login</td></tr></tbody></table><hr><h2 id="common-patterns" tabindex="-1">Common Patterns <a class="header-anchor" href="#common-patterns" aria-label="Permalink to &quot;Common Patterns&quot;">â€‹</a></h2><h3 id="public-api-request" tabindex="-1">Public API Request <a class="header-anchor" href="#public-api-request" aria-label="Permalink to &quot;Public API Request&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Just need the Storefront Key</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/shop/products&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_xxxxxxxxxxxxx&quot;</span></span></code></pre></div><h3 id="customer-api-request" tabindex="-1">Customer API Request <a class="header-anchor" href="#customer-api-request" aria-label="Permalink to &quot;Customer API Request&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Need BOTH Storefront Key AND Bearer token</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/shop/customers/addresses&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_xxxxxxxxxxxxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;address&quot;: &quot;123 Main St&quot;}&#39;</span></span></code></pre></div><h3 id="admin-api-request" tabindex="-1">Admin API Request <a class="header-anchor" href="#admin-api-request" aria-label="Permalink to &quot;Admin API Request&quot;">â€‹</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Only need the Bearer token (no Storefront Key)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/admin/products&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span></span></code></pre></div><hr><h2 id="using-tokens-in-requests" tabindex="-1">Using Tokens in Requests <a class="header-anchor" href="#using-tokens-in-requests" aria-label="Permalink to &quot;Using Tokens in Requests&quot;">â€‹</a></h2><p>All authenticated requests require the Bearer token in the <code>Authorization</code> header. How you pass the token depends on your platform:</p><p><strong>Web/Frontend:</strong> Use the token from your authentication state, cookie, or session storage.</p><p><strong>Mobile Apps:</strong> Retrieve the token from secure device storage.</p><p><strong>Backend Services:</strong> Use the token from environment variables or secure vaults.</p><p>For detailed token storage and security guidance, see the <a href="./introduction.html">Introduction Guide</a>.</p><hr><h2 id="security-essentials" tabindex="-1">Security Essentials <a class="header-anchor" href="#security-essentials" aria-label="Permalink to &quot;Security Essentials&quot;">â€‹</a></h2><p>âœ… <strong>Do This:</strong></p><ul><li>Use HTTPS for all requests (required in production)</li><li>Include the token in the <code>Authorization: Bearer</code> header</li><li>Validate token before making requests</li><li>Handle 401 errors by re-authenticating</li><li>Use strong passwords (12+ characters, mixed case, numbers, special chars)</li></ul><p>âŒ <strong>Don&#39;t Do This:</strong></p><ul><li>Don&#39;t hardcode tokens in source code</li><li>Don&#39;t log tokens or API keys</li><li>Don&#39;t send tokens in URL query parameters</li><li>Don&#39;t commit <code>.env</code> files to Git</li><li>Don&#39;t reuse the same token across environments</li><li>Don&#39;t ignore token expiration</li></ul><hr><h2 id="troubleshooting-authentication-issues" tabindex="-1">Troubleshooting Authentication Issues <a class="header-anchor" href="#troubleshooting-authentication-issues" aria-label="Permalink to &quot;Troubleshooting Authentication Issues&quot;">â€‹</a></h2><h3 id="invalid-api-key-error" tabindex="-1">&quot;Invalid API Key&quot; Error <a class="header-anchor" href="#invalid-api-key-error" aria-label="Permalink to &quot;&quot;Invalid API Key&quot; Error&quot;">â€‹</a></h3><p><strong>Problem:</strong> Your Storefront Key is rejected.</p><p><strong>Solution:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. Double-check your key</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $BAGISTO_STOREFRONT_KEY</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. Verify it&#39;s active</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">php</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> artisan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bagisto-api:key:manage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --key=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Your Key&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. Make sure header name is exactly correct</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Should be: X-STOREFRONT-KEY (with hyphen, not underscore)</span></span></code></pre></div><h3 id="unauthorized-401-error" tabindex="-1">&quot;Unauthorized&quot; (401) Error <a class="header-anchor" href="#unauthorized-401-error" aria-label="Permalink to &quot;&quot;Unauthorized&quot; (401) Error&quot;">â€‹</a></h3><p><strong>Problem:</strong> Your Bearer token is invalid or expired.</p><p><strong>Solution:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. Check if token is still valid (tokens expire)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. Login again to get a new token</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://your-domain.com/api/shop/customer/login&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;email&quot;: &quot;user@example.com&quot;, &quot;password&quot;: &quot;password&quot;}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. Use the new token in your Authorization header</span></span></code></pre></div><h3 id="forbidden-403-error" tabindex="-1">&quot;Forbidden&quot; (403) Error <a class="header-anchor" href="#forbidden-403-error" aria-label="Permalink to &quot;&quot;Forbidden&quot; (403) Error&quot;">â€‹</a></h3><p><strong>Problem:</strong> You&#39;re authenticated but don&#39;t have permission.</p><p><strong>Solution:</strong></p><ul><li>If Customer API: Make sure you logged in as the customer</li><li>If Admin API: Make sure you logged in as an admin, not a customer</li><li>Check your admin role has permission for this endpoint</li></ul><h3 id="token-keeps-expiring" tabindex="-1">Token Keeps Expiring <a class="header-anchor" href="#token-keeps-expiring" aria-label="Permalink to &quot;Token Keeps Expiring&quot;">â€‹</a></h3><p><strong>Problem:</strong> You have to login repeatedly.</p><p><strong>Solution:</strong></p><ul><li>Implement automatic token refresh (if backend supports it)</li><li>Check token expiration time in the response</li><li>Store refresh token if provided</li><li>Consider longer-lived tokens for backend-to-backend communication</li></ul><hr><h2 id="related-documentation" tabindex="-1">Related Documentation <a class="header-anchor" href="#related-documentation" aria-label="Permalink to &quot;Related Documentation&quot;">â€‹</a></h2><ul><li><a href="./storefront-api-key-management-guide.html">API Key Management Guide</a> â€” How to generate and manage API keys</li><li><a href="./rest-api/rest-api.html">REST API Guide</a> â€” REST API endpoints</li><li><a href="./graphql-api/graphql-api.html">GraphQL API Guide</a> â€” GraphQL queries and mutations</li></ul>`,111)]))}const c=i(n,[["render",l]]);export{u as __pageData,c as default};
