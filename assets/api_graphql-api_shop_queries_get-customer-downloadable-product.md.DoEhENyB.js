import{_ as a,a as t,o as e,ai as i}from"./chunks/framework.BbOtTPsL.js";const k=JSON.parse('{"title":"Get Customer Downloadable Product","description":"","frontmatter":{"outline":false,"examples":[{"id":"get-customer-downloadable-product","title":"Get Single Customer Downloadable Product","description":"Retrieve details of a specific downloadable product purchase by its IRI identifier.","query":"query GetCustomerDownloadableProduct {\\n  customerDownloadableProduct(id: \\"/api/shop/customer-downloadable-products/1\\") {\\n    _id\\n    productName\\n    name\\n    fileName\\n    type\\n    downloadBought\\n    downloadUsed\\n    downloadCanceled\\n    status\\n    remainingDownloads\\n    order {\\n      _id\\n      incrementId\\n      status\\n      grandTotal\\n    }\\n    createdAt\\n    updatedAt\\n  }\\n}\\n","variables":"{}\\n","response":"{\\n  \\"data\\": {\\n    \\"customerDownloadableProduct\\": {\\n      \\"_id\\": 1,\\n      \\"productName\\": \\"Laravel E-Book\\",\\n      \\"name\\": \\"PDF Download\\",\\n      \\"fileName\\": \\"laravel-ebook.pdf\\",\\n      \\"type\\": \\"file\\",\\n      \\"downloadBought\\": 5,\\n      \\"downloadUsed\\": 1,\\n      \\"downloadCanceled\\": 0,\\n      \\"status\\": \\"available\\",\\n      \\"remainingDownloads\\": 4,\\n      \\"order\\": {\\n        \\"_id\\": 101,\\n        \\"incrementId\\": \\"101\\",\\n        \\"status\\": \\"completed\\",\\n        \\"grandTotal\\": 29.99\\n      },\\n      \\"createdAt\\": \\"2025-06-15T10:30:00+00:00\\",\\n      \\"updatedAt\\": \\"2025-06-15T10:30:00+00:00\\"\\n    }\\n  }\\n}\\n","commonErrors":[{"error":"Unauthenticated","cause":"Missing or invalid Bearer token","solution":"Login and provide a valid customer authentication token"},{"error":"Not Found","cause":"The downloadable product purchase ID does not exist or belongs to another customer","solution":"Verify the purchase ID and ensure you are authenticated as the correct customer"}]}]},"headers":[],"relativePath":"api/graphql-api/shop/queries/get-customer-downloadable-product.md","filePath":"api/graphql-api/shop/queries/get-customer-downloadable-product.md","lastUpdated":1771606128000}'),n={name:"api/graphql-api/shop/queries/get-customer-downloadable-product.md"};function d(o,s,l,r,h,p){return e(),t("div",null,s[0]||(s[0]=[i(`<h1 id="get-customer-downloadable-product" tabindex="-1">Get Customer Downloadable Product <a class="header-anchor" href="#get-customer-downloadable-product" aria-label="Permalink to &quot;Get Customer Downloadable Product&quot;">​</a></h1><p>Retrieve details of a specific downloadable product purchase by its IRI identifier. This is a <strong>read-only</strong> API — customers can view a single purchased downloadable link, check its download status, and see remaining downloads.</p><h2 id="query" tabindex="-1">Query <a class="header-anchor" href="#query" aria-label="Permalink to &quot;Query&quot;">​</a></h2><div class="language-graphql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">graphql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">query</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetCustomerDownloadableProduct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  customerDownloadableProduct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/shop/customer-downloadable-products/1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    _id</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    productName</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    name</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    fileName</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    type</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    downloadBought</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    downloadUsed</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    downloadCanceled</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    status</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    remainingDownloads</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      _id</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      incrementId</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      status</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      grandTotal</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    createdAt</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    updatedAt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Argument</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>ID!</td><td>Yes</td><td>The IRI of the downloadable product purchase (e.g., <code>/api/shop/customer-downloadable-products/1</code>)</td></tr></tbody></table><h2 id="response-fields" tabindex="-1">Response Fields <a class="header-anchor" href="#response-fields" aria-label="Permalink to &quot;Response Fields&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>_id</code></td><td>Int</td><td>Downloadable link purchase ID</td></tr><tr><td><code>productName</code></td><td>String</td><td>Name of the purchased product</td></tr><tr><td><code>name</code></td><td>String</td><td>Name of the downloadable link</td></tr><tr><td><code>fileName</code></td><td>String</td><td>Display name of the file</td></tr><tr><td><code>type</code></td><td>String</td><td>Link type: <code>file</code> or <code>url</code></td></tr><tr><td><code>downloadBought</code></td><td>Int</td><td>Total number of allowed downloads</td></tr><tr><td><code>downloadUsed</code></td><td>Int</td><td>Number of times downloaded</td></tr><tr><td><code>downloadCanceled</code></td><td>Int</td><td>Number of canceled downloads</td></tr><tr><td><code>status</code></td><td>String</td><td>Purchase status: <code>available</code>, <code>expired</code>, or <code>pending</code></td></tr><tr><td><code>remainingDownloads</code></td><td>Int</td><td>Computed remaining downloads (<code>null</code> if unlimited)</td></tr><tr><td><code>order</code></td><td>Object</td><td>Associated order details</td></tr><tr><td><code>createdAt</code></td><td>DateTime</td><td>Purchase creation date</td></tr><tr><td><code>updatedAt</code></td><td>DateTime</td><td>Purchase last update date</td></tr></tbody></table><h2 id="request-headers" tabindex="-1">Request Headers <a class="header-anchor" href="#request-headers" aria-label="Permalink to &quot;Request Headers&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Header</th><th>Value</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td><code>application/json</code></td><td>Yes</td><td>Request content type</td></tr><tr><td><code>X-STOREFRONT-KEY</code></td><td><code>pk_storefront_xxx</code></td><td>Yes</td><td>Storefront API key</td></tr><tr><td><code>Authorization</code></td><td><code>Bearer {token}</code></td><td>Yes</td><td>Customer authentication token</td></tr></tbody></table><h2 id="curl-example" tabindex="-1">cURL Example <a class="header-anchor" href="#curl-example" aria-label="Permalink to &quot;cURL Example&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8000/api/graphql&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-STOREFRONT-KEY: pk_storefront_your_key_here&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer YOUR_CUSTOMER_TOKEN&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;query&quot;: &quot;query { customerDownloadableProduct(id: \\&quot;/api/shop/customer-downloadable-products/1\\&quot;) { _id productName name fileName type downloadBought downloadUsed status remainingDownloads createdAt } }&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }&#39;</span></span></code></pre></div><h2 id="error-responses" tabindex="-1">Error Responses <a class="header-anchor" href="#error-responses" aria-label="Permalink to &quot;Error Responses&quot;">​</a></h2><h3 id="item-not-found" tabindex="-1">Item Not Found <a class="header-anchor" href="#item-not-found" aria-label="Permalink to &quot;Item Not Found&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;errors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Customer downloadable product with ID </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">999</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not found&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;locations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;line&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;column&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;customerDownloadableProduct&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><strong>IRI format:</strong> The <code>id</code> argument uses the IRI format <code>/api/shop/customer-downloadable-products/{id}</code>.</li><li><strong>Customer isolation:</strong> A customer can only access their own purchases. Requesting another customer&#39;s purchase returns a not found error.</li><li><strong>Computed field:</strong> <code>remainingDownloads</code> is calculated as <code>downloadBought - downloadUsed - downloadCanceled</code>. Returns <code>null</code> for unlimited downloads.</li></ul>`,17)]))}const u=a(n,[["render",d]]);export{k as __pageData,u as default};
